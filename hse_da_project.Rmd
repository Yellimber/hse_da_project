---
---
---

# Анализ белорусского диалекта в русском языке

Цель: проанализировать признаки встречаемых белорусских диалектизмов в русском языке.

Для данного проекта был выбран набор данных, содержащий транскрипты бесед с жителями пгт Хиславичи, Смоленская область. Данные разделены на токены, присутствует POS-разметка conllu, но нет помет относительно диалекта. В связи с этим нами была проведена полуручная разметка диалектизмов в датасете. Также было добавлено поле `time_dif`, которое представляет собой разницу между `time_end` и `time_start`, т.е. длительность фразы.

## Обзор данных и дополнительная предобработка

```{r}
library("tidyverse")
df <- read_csv("khislavichi_marked.csv")
```

```{r}
df
```

```{r}
str(df)
```

```{r}
summary(df)
```

Поле `is_dialect` содержит пометы о том, является ли данная лемма диалектизмом: 0 - нет, не является; 1 - да, является.

```{r}
df %>%
  distinct(is_dialect)
```

Посмотрим на частеречную разметку:

```{r}
df %>%
  distinct(upos)
```

```{r}
df %>%
  filter(upos == "X") %>%
  select(token, is_dialect)
```

```{r}
df %>%
  filter(upos == "SYM") %>%
  select(token, is_dialect)
```

```{r}
df %>%
  filter(upos == "SYM" & is_dialect != 0) %>%
  select(token, is_dialect)
```

Избавляемся от знаков препинания в датасете, а также от токенов с пометой `SYM`, поскольку они представляют собой "обрывочные" токены. Помимо этого, оставляем только те колонки, которые могут быть нам полезны в дальнейшем.

```{r}
df = df %>%
  filter(upos != "PUNCT" & upos != "SYM") %>%
  select(sentence, token, lemma, upos, xpos, feats, head_token_id, dep_rel, misc, is_dialect, time_dif)
df
```

```{r}
df <- mutate(df, across(where(is.character), ~factor(.)))
str(df)
```

Посмотрим на количество диалектизмов по фразам и их длительности:

```{r}
time_df <- df %>%
  group_by(sentence, time_dif) %>%
  summarise(cnt = sum(is_dialect))

write_csv(time_df, "khislav_time.csv")

time_df <- read_csv("khislav_time.csv")
time_df
```

## Визуализация данных

Как видно на гистограмме, в датасете преобладают "не-диалектные" леммы: их более 150-ти тыс. единиц, в то время как диалектными считаются менее 50-ти тыс. единиц.

```{r}
ggplot(df, aes(x = is_dialect)) +
  geom_bar() +
  theme_classic()
```

Во всем датасете преобладают существительные, на втором месте глаголы.

```{r}
ggplot(df, aes(x = upos)) +
  geom_bar() +
  theme_classic()
```

```{r}
non_dial_df <- df %>%
  filter(is_dialect == 0)

ggplot(non_dial_df, aes(x = upos)) +
  geom_bar() +
  theme_classic()
```

Однако среди диалектизмов такое распределение не сохраняется; существительные все еще на первом месте, однако к ним приближаются предлоги, наречия и частицы. Процентное соотношение глаголов гораздо меньше, по сравнению со всем набором данных целиком.

```{r}
dial_df <- df %>%
  filter(is_dialect == 1)

ggplot(dial_df, aes(x = upos)) +
  geom_bar() +
  theme_classic()
```

Посмотрим на график распределения количества диалектизмов во фразе относительно ее длины:

```{r}
ggplot(time_df, aes(x = time_dif, y = cnt)) +
  geom_point() +
  theme_classic()
```

Попробуем построить хитмэп корреляций между длительностью фразы и количеством в ней диалектизмов:

```{r}
cor_df <- time_df %>%
  select(time_dif, cnt)

cor(cor_df)
```

```{r}
library(corrplot)
corrplot(cor(cor_df), method = "color", order = "hclust")
```

## Гипотезы

$H_0: \tau = 0$ (между длительностью фразы и количеством диалектизмов в ней отсутствует корреляция)

$H_1: \tau \ne 0$ (между длительностью фразу и количеством диалектизмов в ней есть корреляция)

## Тестирование

```{r}
str(time_df)
```

```{r}
cor.test(time_df$time_dif, time_df$cnt, method = "kendall")
```

Глядя на параметры, можно сказать, что нулевая гипотеза опровергнута, и можно принять альтернативную гипотезу (P-value \< 0.05). Имеет место корреляция между полями `time_dif` и `cnt` в представленном датасете.

## Результаты

Таким образом, поставленная изначально гипотеза подтвердилась, т.е. между длительностью фразы и количеством в ней диалектизмов есть корреляцие: чем дольше фраза, тем больше в ней диалектизмов. Однако коэффициент корреляции равен 0.298, что показывает незначительность связи между двумя параметрами.
